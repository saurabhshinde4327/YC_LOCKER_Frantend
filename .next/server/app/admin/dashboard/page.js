(()=>{var e={};e.id=957,e.ids=[957],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1002:(e,t,s)=>{Promise.resolve().then(s.bind(s,1186))},1170:(e,t,s)=>{Promise.resolve().then(s.bind(s,1736))},1186:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(2907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\YCIS-LOCKER-main\\\\ui\\\\app\\\\admin\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\YCIS-LOCKER-main\\ui\\app\\admin\\dashboard\\page.tsx","default")},1630:e=>{"use strict";e.exports=require("http")},1736:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>c});var r=s(687),a=s(3210),i=s(6189),n=s(1060),o=s(7590),l=s(6001),d=s(3371);function c(){let e=(0,i.useRouter)(),[t,s]=(0,a.useState)([]),[c,x]=(0,a.useState)([]),[u,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[g,f]=(0,a.useState)(!0),[y,j]=(0,a.useState)(0),[v,b]=(0,a.useState)(null);(0,a.useCallback)(async()=>{try{let t=localStorage.getItem("token");if(!t)return void e.push("/admin");let r=await n.A.get((0,d.e)("api/admin/users"),{headers:{Authorization:`Bearer ${t}`}});s(r.data),x(r.data);let a=r.data.reduce((e,t)=>e+(t.storageUsed||0),0);j(a)}catch(t){o.Ay.error("Failed to fetch data"),n.A.isAxiosError(t)&&t.response?.status===401&&e.push("/admin")}finally{f(!1)}},[e]);let w=async e=>{if(confirm("Are you sure you want to delete this user? This action cannot be undone.")){b(e);try{let r=localStorage.getItem("token");await n.A.delete((0,d.e)(`api/admin/users/${e}`),{headers:{Authorization:`Bearer ${r}`}}),o.Ay.success("User deleted successfully"),s(t.filter(t=>t._id!==e)),x(c.filter(t=>t._id!==e))}catch(e){n.A.isAxiosError(e)?o.Ay.error(e.response?.data?.error||"Failed to delete user"):o.Ay.error("Failed to delete user")}finally{b(null)}}};return g?(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,r.jsx)("div",{className:"text-2xl text-gray-600",children:"Loading..."})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("main",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,r.jsx)("div",{className:"mb-6",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"})}),(0,r.jsxs)("div",{className:"mb-8 flex flex-col sm:flex-row justify-between items-start sm:items-center space-y-4 sm:space-y-0",children:[(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md w-full sm:w-auto",children:[(0,r.jsx)("div",{className:"text-sm font-medium mb-1 text-gray-600",children:"Total Storage Used"}),(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"w-48 bg-gray-200 rounded-full h-2",children:(0,r.jsx)(l.P.div,{className:`h-2 rounded-full ${y/536870912e3*100>90?"bg-red-500":y/536870912e3*100>70?"bg-yellow-500":"bg-green-500"}`,initial:{width:0},animate:{width:`${y/536870912e3*100}%`},transition:{duration:.5}})}),(0,r.jsxs)("span",{className:"text-sm whitespace-nowrap text-gray-700",children:[Math.round(y/0x40000000)," / 500 GB"]})]})]}),(0,r.jsxs)("button",{onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),e.push("/admin")},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"Logout"]})]}),(0,r.jsxs)(l.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"px-6 py-5 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center space-y-4 sm:space-y-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),(0,r.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Showing ",c.length," of ",t.length," users"]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4 w-full sm:w-auto",children:[(0,r.jsxs)("select",{value:m,onChange:e=>h(e.target.value),className:"block w-full sm:w-48 pl-4 pr-10 py-3 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 outline-none",children:[(0,r.jsx)("option",{value:"",children:"All Departments"}),(0,r.jsx)("option",{value:"botany",children:"Botany"}),(0,r.jsx)("option",{value:"chemistry",children:"Chemistry"}),(0,r.jsx)("option",{value:"electronics",children:"Electronics"}),(0,r.jsx)("option",{value:"english",children:"English"}),(0,r.jsx)("option",{value:"mathematics",children:"Mathematics"}),(0,r.jsx)("option",{value:"microbiology",children:"Microbiology"}),(0,r.jsx)("option",{value:"sports",children:"Sports"}),(0,r.jsx)("option",{value:"statistics",children:"Statistics"}),(0,r.jsx)("option",{value:"zoology",children:"Zoology"}),(0,r.jsx)("option",{value:"animation-science",children:"Animation Science"}),(0,r.jsx)("option",{value:"data-science",children:"Data Science"}),(0,r.jsx)("option",{value:"artificial-intelligence",children:"Artificial Intelligence"}),(0,r.jsx)("option",{value:"bvoc-software-development",children:"B.Voc Software Development"}),(0,r.jsx)("option",{value:"bioinformatics",children:"Bioinformatics"}),(0,r.jsx)("option",{value:"computer-application",children:"Computer Application"}),(0,r.jsx)("option",{value:"computer-science-entire",children:"Computer Science (Entire)"}),(0,r.jsx)("option",{value:"computer-science-optional",children:"Computer Science (Optional)"}),(0,r.jsx)("option",{value:"drug-chemistry",children:"Drug Chemistry"}),(0,r.jsx)("option",{value:"food-technology",children:"Food Technology"}),(0,r.jsx)("option",{value:"forensic-science",children:"Forensic Science"}),(0,r.jsx)("option",{value:"nanoscience-and-technology",children:"Nanoscience and Technology"})]}),(0,r.jsxs)("div",{className:"relative rounded-lg shadow-sm w-full sm:w-72",children:[(0,r.jsx)("input",{type:"text",value:u,onChange:e=>p(e.target.value),placeholder:"Search by name, ID, email, or phone...",className:"block w-full pl-4 pr-10 py-3 bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 outline-none"}),(0,r.jsx)("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})]})}),(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student ID"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Department"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Storage Used"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Storage %"}),(0,r.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,r.jsxs)("tbody",{className:"bg-white divide-y divide-gray-200",children:[c.map(e=>{var t;let s=Math.round(e.storageUsed/1024/1024),a=e.storageUsed/0x40000000*100;return(0,r.jsxs)(l.P.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50 transition-colors duration-150",children:[(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,r.jsx)("div",{className:"text-sm text-gray-900",children:e.email}),(0,r.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.studentId})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full bg-green-100 text-green-800",children:(t=e.department)?t.replace(/-/g," ").replace(/\b\w/g,e=>e.toUpperCase()):""})}),(0,r.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[s," MB"]}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"flex-grow",children:(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,r.jsx)(l.P.div,{className:`h-2 rounded-full ${a>90?"bg-red-500":a>70?"bg-yellow-500":"bg-green-500"}`,initial:{width:0},animate:{width:`${a}%`},transition:{duration:.5}})})}),(0,r.jsxs)("span",{className:"flex-shrink-0 text-sm text-gray-500 w-12",children:[Math.round(a),"%"]})]})}),(0,r.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,r.jsx)("button",{onClick:()=>w(e._id),disabled:v===e._id,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:v===e._id?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Deleting..."]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})})})]},e._id)}),0===c.length&&(0,r.jsx)("tr",{children:(0,r.jsx)("td",{colSpan:6,className:"px-6 py-12 text-center text-gray-500",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12 mb-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,r.jsx)("p",{className:"text-lg font-medium",children:"No users found"}),(0,r.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search criteria"})]})})})]})]})})]})]})}),(0,r.jsx)("footer",{className:"mt-8 text-center text-gray-500 text-sm"})]})}},1820:e=>{"use strict";e.exports=require("os")},2412:e=>{"use strict";e.exports=require("assert")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},3371:(e,t,s)=>{"use strict";s.d(t,{e:()=>a});let r=process.env.NEXT_PUBLIC_API_BASE_URL||"http://localhost:3000/",a=e=>{let t=e.startsWith("/")?e.slice(1):e;return`${r}/${t}`}},3873:e=>{"use strict";e.exports=require("path")},3997:e=>{"use strict";e.exports=require("tty")},4075:e=>{"use strict";e.exports=require("zlib")},4292:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(5239),a=s(8088),i=s(8170),n=s.n(i),o=s(893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d={children:["",{children:["admin",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1186)),"D:\\YCIS-LOCKER-main\\ui\\app\\admin\\dashboard\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8014)),"D:\\YCIS-LOCKER-main\\ui\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,7398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,9999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,5284,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\YCIS-LOCKER-main\\ui\\app\\admin\\dashboard\\page.tsx"],x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/admin/dashboard/page",pathname:"/admin/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4735:e=>{"use strict";e.exports=require("events")},5511:e=>{"use strict";e.exports=require("crypto")},5591:e=>{"use strict";e.exports=require("https")},7910:e=>{"use strict";e.exports=require("stream")},8354:e=>{"use strict";e.exports=require("util")},9021:e=>{"use strict";e.exports=require("fs")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9551:e=>{"use strict";e.exports=require("url")}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[170,38,846],()=>s(4292));module.exports=r})();