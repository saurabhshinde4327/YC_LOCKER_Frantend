"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[365],{7453:(e,t,s)=>{s.d(t,{A:()=>l});var r=s(5155),n=s(2115);let l=()=>{let[e,t]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=()=>{t(new Date().toLocaleString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!0}))};e();let s=setInterval(e,1e3);return()=>clearInterval(s)},[]),(0,r.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-800 text-white py-2",children:(0,r.jsx)("div",{className:"container mx-auto px-4 flex justify-center items-center",children:(0,r.jsx)("span",{className:"text-sm font-medium",children:e||"Loading..."})})})}},8657:(e,t,s)=>{s.d(t,{A:()=>d});var r=s(5155),n=s(2115),l=s(5695),i=s(6874),a=s.n(i),o=s(6408),c=s(760);function d(){let e=(0,l.useRouter)(),t=(0,l.usePathname)(),[s,i]=(0,n.useState)(null),[d,h]=(0,n.useState)(!1),[x,u]=(0,n.useState)(null),[m,p]=(0,n.useState)(!1);(0,n.useEffect)(()=>{window.addEventListener("beforeinstallprompt",e=>{e.preventDefault(),u(e),p(!0)}),window.addEventListener("appinstalled",()=>{p(!1),u(null)});let s=()=>{let s=localStorage.getItem("user"),r=localStorage.getItem("token");s&&r?i(JSON.parse(s)):(i(null),"/dashboard"===t&&e.push("/login"))};return s(),window.addEventListener("storage",s),()=>{window.removeEventListener("storage",s)}},[e,t]);let g=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),i(null),h(!1),e.push("/")},b=async()=>{if(x)try{await x.prompt();let{outcome:e}=await x.userChoice;"accepted"===e&&(u(null),p(!1))}catch(e){console.error("Error installing app:",e)}};return(0,r.jsxs)("header",{className:"relative bg-gradient-to-r from-blue-600 to-blue-800 text-white overflow-hidden",children:[(0,r.jsxs)("div",{className:"absolute inset-0",children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 to-blue-800 mix-blend-multiply"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-[url('/grid.svg')] opacity-10"})]}),(0,r.jsxs)("nav",{className:"relative container mx-auto px-6 py-6 flex justify-between items-center",children:[(0,r.jsxs)(o.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},className:"flex items-center space-x-8",children:[(0,r.jsx)(a(),{href:"/",prefetch:!0,className:"text-2xl font-bold tracking-tight",children:"YCIS Digital Locker"}),s&&(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-6",children:[(0,r.jsx)(a(),{href:"/",prefetch:!0,className:"text-white/80 hover:text-white transition-colors ".concat("/"===t?"text-white font-medium":""),children:"Home"}),(0,r.jsx)(a(),{href:"/dashboard",prefetch:!0,className:"text-white/80 hover:text-white transition-colors ".concat("/dashboard"===t?"text-white font-medium":""),children:"Dashboard"})]})]}),(0,r.jsx)(o.P.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5},className:"hidden md:flex items-center space-x-6",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("span",{className:"text-white/80",children:["Welcome, ",s.name]}),(0,r.jsxs)("button",{onClick:g,className:"group px-6 py-3 bg-white/10 hover:bg-white/20 rounded-full transition-all duration-300 font-medium backdrop-blur-sm inline-flex items-center space-x-2",children:[(0,r.jsx)("span",{children:"Logout"}),(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})]}):(0,r.jsxs)(a(),{href:"/login",prefetch:!0,className:"group px-6 py-3 bg-white/10 hover:bg-white/20 rounded-full transition-all duration-300 font-medium backdrop-blur-sm inline-flex items-center space-x-2",children:[(0,r.jsx)("span",{children:"Student Login"}),(0,r.jsx)("svg",{className:"w-4 h-4 transform group-hover:translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})}),(0,r.jsx)("button",{onClick:()=>h(!0),className:"md:hidden p-2 rounded-lg bg-white/10 hover:bg-white/20 transition-colors","aria-label":"Open mobile menu",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})}),(0,r.jsx)(c.N,{children:d&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>h(!1),className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-40 md:hidden"}),(0,r.jsx)(o.P.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed top-0 right-0 h-full w-64 bg-white shadow-xl z-50 md:hidden",children:(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsx)("div",{className:"flex justify-end p-4",children:(0,r.jsx)("button",{onClick:()=>h(!1),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 transition-colors","aria-label":"Close mobile menu",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})}),(0,r.jsx)("div",{className:"flex-1 px-4 py-6",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"mb-8 text-center",children:[(0,r.jsx)("p",{className:"text-gray-600",children:"Welcome,"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:s.name})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(a(),{href:"/",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg transition-colors ".concat("/"===t?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"),children:"Home"}),(0,r.jsx)(a(),{href:"/dashboard",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg transition-colors ".concat("/dashboard"===t?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"),children:"Dashboard"}),m&&(0,r.jsxs)("button",{onClick:b,className:"w-full px-4 py-3 rounded-lg text-left text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m0 0l-4-4m4 4l4-4"})}),(0,r.jsx)("span",{children:"Add to Home Screen"})]})]})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)(a(),{href:"/",onClick:()=>h(!1),className:"block px-4 py-3 rounded-lg transition-colors ".concat("/"===t?"bg-blue-50 text-blue-600":"text-gray-700 hover:bg-gray-50"),children:"Home"}),m&&(0,r.jsxs)("button",{onClick:b,className:"w-full px-4 py-3 rounded-lg text-left text-gray-700 hover:bg-gray-50 transition-colors flex items-center space-x-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m0 0l-4-4m4 4l4-4"})}),(0,r.jsx)("span",{children:"Add to Home Screen"})]})]})}),(0,r.jsx)("div",{className:"p-4 border-t border-gray-200",children:s?(0,r.jsx)("button",{onClick:g,className:"w-full px-4 py-3 text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Logout"}):(0,r.jsx)(a(),{href:"/login",onClick:()=>h(!1),className:"block w-full px-4 py-3 text-center text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors",children:"Student Login"})})]})})]})})]})]})}}}]);